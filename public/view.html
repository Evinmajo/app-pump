<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Difference Calculator - View</title>
    <link rel="icon" type="image/png" href="https://img-cdn.publive.online/fit-in/1200x675/jobs-sentinalassam/media/media_files/2025/07/26/bharat-petroleum-corporation-limited-2025-07-26-15-38-59.jpg">
    <script src="./style.js"></script>
    <style>
        /* Custom styles for the Inter font and overall body */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #2563eb; /* Blue background for the entire page */
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            min-height: 100vh; /* Ensure body takes full viewport height */
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
        }
        /* Ensure input type="number" does not show spin buttons */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield; /* Firefox specific */
        }
        /* Custom utility for 49% width */
        .w-49\% {
            width: 49%;
        }
    </style>
</head>
<body class="antialiased">
    <div class="bg-white p-6 sm:p-8 md:p-10 rounded-xl shadow-lg w-full max-w-lg md:max-w-2xl lg:max-w-4xl mx-auto my-auto">

        <div class="mb-8">
            <label for="currentDate" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Date</label>
            <input type="date" id="currentDate"
                   class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                   readonly tabindex="-1">
        </div>

        <div class="mb-8">
            <label for="displayId" class="block text-lg font-semibold text-gray-700 mb-2 text-center">ID Section</label>
            <input type="text" id="displayId"
                   class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                   readonly placeholder="-" tabindex="-1">
        </div>
        <div class="mb-8">
            <label for="shift" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Shift</label>
            <input type="text" id="shift" class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold" readonly placeholder="-">
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8">
            <div>
                <label for="petrol" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Petrol Price</label>
                <input type="number" id="petrol"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter petrol price" readonly>
            </div>
            <div>
                <label for="diesel" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Diesel Price</label>
                <input type="number" id="diesel"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter diesel price" readonly>
            </div>
            <div>
                <label for="oil" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Oil Price</label>
                <input type="number" id="oil"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter oil price" readonly>
            </div>
            <div>
                <label for="speed" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Speed Price</label>
                <input type="number" id="speed"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter speed price" readonly>
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Oil First Reading</h2>
            <div class="flex flex-row w-full sm:w-2/3 justify-end">
                <input type="number" id="oilFirstReading"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>
        
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Oil Second Reading</h2>
            <div class="flex flex-row w-full sm:w-2/3 justify-end">
                <input type="number" id="oilSecondReading"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>
        
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Oil Difference</h2>
            <div class="flex flex-row w-full sm:w-2/3 justify-end">
                <input type="text" id="oilReadingDifference"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        
        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="oilRequiredMoney" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Required Money (Oil)</label>
                <input type="text" id="oilRequiredMoney"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-blue-100 text-blue-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Speed First Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="speedFirstReading1" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
                <input type="number" id="speedFirstReading2" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
                <input type="number" id="speedFirstReading3" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
    <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Speed Second Reading</h2>
    <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
            <input type="number" id="speedSecondReading1" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
            <input type="number" id="speedSecondReading2" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
            <input type="number" id="speedSecondReading3" class="w-1/3 p-3 border border-gray-300 rounded-lg text-gray-800 text-center" readonly>
        </div>
    </div>
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Speed Difference</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="text" id="SpeedDifference1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="SpeedDifference2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="SpeedDifference3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="requiredMoneySpeed" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Required Money (Speed)</label>
                <input type="text" id="requiredMoneySpeed"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-green-100 text-green-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol First Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="firstReading1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="firstReading2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="firstReading3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol Second Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="secondReading1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="secondReading2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="secondReading3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol Difference</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="text" id="petrolDifference1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="petrolDifference2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="petrolDifference3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol First Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="firstReading4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="firstReading5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="firstReading6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol Second Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="secondReading4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="secondReading5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="secondReading6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Petrol Difference</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="text" id="petrolDifference4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="petrolDifference5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="petrolDifference6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="requiredMoneyPetrol" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Required Money (Petrol)</label>
                <input type="text" id="requiredMoneyPetrol"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-green-100 text-green-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel First Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="dieselFirstReading1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselFirstReading2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselFirstReading3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel Second Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="dieselSecondReading1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselSecondReading2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselSecondReading3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel Difference</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="text" id="dieselDifference1"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="dieselDifference2"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="dieselDifference3"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel First Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="dieselFirstReading4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselFirstReading5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselFirstReading6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel Second Reading</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="number" id="dieselSecondReading4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselSecondReading5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
                <input type="number" id="dieselSecondReading6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="-" readonly>
            </div>
        </div>

        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6">
            <h2 class="text-lg sm:text-xl font-semibold text-gray-700 w-full sm:w-1/3 mb-2 sm:mb-0 text-left">Diesel Difference</h2>
            <div class="flex flex-row space-x-2 w-full sm:w-2/3 justify-end">
                <input type="text" id="dieselDifference4"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="dieselDifference5"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
                <input type="text" id="dieselDifference6"
                       class="w-1/3 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="requiredMoneyDiesel" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Required Money (Diesel)</label>
                <input type="text" id="requiredMoneyDiesel"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-blue-100 text-blue-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <hr class="my-8 border-t border-gray-300">

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
            <div>
                <label for="speedTestQuantity" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Speed Test Quantity (Liters)</label>
                <input type="number" id="speedTestQuantity"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter liters tested" readonly>
            </div>
            <div>
                <label for="petrolTestQuantity" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Petrol Test Quantity (Liters)</label>
                <input type="number" id="petrolTestQuantity"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter liters tested" readonly>
            </div>
            <div>
                <label for="dieselTestQuantity" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Diesel Test Quantity (Liters)</label>
                <input type="number" id="dieselTestQuantity"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                       placeholder="Enter liters tested" readonly>
            </div>
            <div>
                <label for="speedTestQuantityMoney" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Speed Test Money</label>
                <input type="text" id="speedTestQuantityMoney"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-purple-100 text-purple-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
            <div>
                <label for="petrolTestQuantityMoney" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Petrol Test Money</label>
                <input type="text" id="petrolTestQuantityMoney"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-purple-100 text-purple-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
            <div>
                <label for="dieselTestQuantityMoney" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Diesel Test Money</label>
                <input type="text" id="dieselTestQuantityMoney"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-purple-100 text-purple-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>
        <hr class="my-8 border-t border-gray-300">

        <div class="mb-6">
            <h2 class="block text-lg sm:text-xl font-semibold text-gray-700 mb-4 text-center">Packed Oil</h2>
            <div id="packedOilEntriesContainer" class="space-y-3">
                </div>
            <div class="mt-4">
                <label for="totalPackedOilAmount" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Total Packed Oil</label>
                <input type="text" id="totalPackedOilAmount"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            <div class="col-span-1">
                <h2 class="text-lg sm:text-xl font-semibold text-gray-700 mb-4 text-center">Credit</h2>
                <div id="creditEntriesContainer" class="space-y-3">
                    </div>
                <div class="mt-4">
                    <label for="totalCreditAmount" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Total Credit</label>
                    <input type="text" id="totalCreditAmount"
                           class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                           readonly placeholder="-" tabindex="-1">
                </div>
            </div>

            <div class="col-span-1">
                <h2 class="text-lg sm:text-xl font-semibold text-gray-700 mb-4 text-center">Debit</h2>
                <div id="debitEntriesContainer" class="space-y-3">
                    </div>
                <div class="mt-4">
                    <label for="totalDebitAmount" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Total Debit</label>
                    <input type="text" id="totalDebitAmount"
                           class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                           readonly placeholder="-" tabindex="-1">
                </div>
            </div>
        </div>
        <hr class="my-8 border-t border-gray-300">

        <h2 class="text-lg sm:text-xl font-semibold text-gray-700 mb-4 text-center">Expenses</h2>
        <div id="expenseEntriesContainer" class="space-y-3">
            </div>
        <div class="mt-4">
            <label for="totalExpensesAmount" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Total Expenses</label>
            <input type="text" id="totalExpensesAmount"
                   class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center font-bold"
                   readonly placeholder="-" tabindex="-1">
        </div>

        <hr class="my-8 border-t border-gray-300">



        <div class="grid grid-cols-1 mt-8">
            <div class="col-span-1">
                <h2 class="text-lg sm:text-xl font-semibold text-gray-700 mb-4 text-center">Denomination Calculator</h2>
                <div class="space-y-3">
                    <div class="flex items-center">
                        <label for="note500" class="w-24 text-right pr-4 text-gray-700">500 x</label>
                        <input type="number" id="note500"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note200" class="w-24 text-right pr-4 text-gray-700">200 x</label>
                        <input type="number" id="note200"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note100" class="w-24 text-right pr-4 text-gray-700">100 x</label>
                        <input type="number" id="note100"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note50" class="w-24 text-right pr-4 text-gray-700">50 x</label>
                        <input type="number" id="note50"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note20" class="w-24 text-right pr-4 text-gray-700">20 x</label>
                        <input type="number" id="note20"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note10" class="w-24 text-right pr-4 text-gray-700">10 x</label>
                        <input type="number" id="note10"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="note5" class="w-24 text-right pr-4 text-gray-700">5 x</label>
                        <input type="number" id="note5"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                    <div class="flex items-center">
                        <label for="coins" class="w-24 text-right pr-4 text-gray-700">Coins</label>
                        <input type="number" id="coins"
                               class="w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm text-gray-800 text-center"
                               placeholder="0" readonly>
                    </div>
                </div>
            </div>
        </div>

        <hr class="my-8 border-t border-gray-300">

        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="totalDenomination" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Total Denomination Amount</label>
                <input type="text" id="totalDenomination"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-yellow-100 text-yellow-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <div class="grid grid-cols-1 mt-8">
            <div>
                <label for="finalResult" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Final Result</label>
                <input type="text" id="finalResult"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-green-100 text-green-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <div class="grid grid-cols-1 mt-8">
            <div>
                <label id="excessShotHeading" class="block text-lg font-semibold text-gray-700 mb-2 text-center">Excess/Shot</label>
                <input type="text" id="excessShotResult"
                       class="w-full p-3 border border-gray-300 rounded-lg bg-red-100 text-red-800 text-center font-bold text-lg"
                       readonly placeholder="-" tabindex="-1">
            </div>
        </div>

        <div class="mt-8 text-center">
            <a id="editButton" href="#"
               class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                Edit Entry
            </a>
        </div>

    </div>

    <script>
        // Helper function to safely get numeric value from an input
        function getNumberValue(id) {
            const element = document.getElementById(id);
            return element && !isNaN(parseFloat(element.value)) ? parseFloat(element.value) : 0;
        }

        // Helper function to safely set numeric value to an input
        function setOutputValue(id, value) {
            const element = document.getElementById(id);
            if (element) {
                element.value = value.toFixed(2); // Format to 2 decimal places
            }
        }

        /**
         * Dynamically adds a new packed oil entry row (name and amount) for display.
         * @param {string} name - The name of the packed oil.
         * @param {number} amount - The amount of the packed oil.
         */
        function addPackedOilEntry(name, price) {
            const container = document.getElementById('packedOilEntriesContainer');

            const entryDiv = document.createElement('div');
            entryDiv.className = 'flex items-center gap-x-2 mb-3';

            const nameInput = document.createElement('input');
            nameInput.type = 'text';
            nameInput.value = name;
            nameInput.className = 'w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center packed-oil-name';
            nameInput.readOnly = true;
            nameInput.tabIndex = -1;

            const priceInput = document.createElement('input');
            priceInput.type = 'number';
            priceInput.value = price;
            priceInput.className = 'w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center packed-oil-amount';
            priceInput.readOnly = true;
            priceInput.tabIndex = -1;

            entryDiv.appendChild(nameInput);
            entryDiv.appendChild(priceInput);
            container.appendChild(entryDiv);
        }

        /**
         * Dynamically adds a new credit/debit entry row (name and amount) for display.
         * @param {string} type - 'credit' or 'debit'.
         * @param {string} name - The name for the entry.
         * @param {number} amount - The amount for the entry.
         */
        function addDynamicEntry(type, name, amount) {
            const containerId = type === 'credit' ? 'creditEntriesContainer' : 'debitEntriesContainer';
            const container = document.getElementById(containerId);

            const entryDiv = document.createElement('div');
            entryDiv.className = 'flex items-center gap-x-2 mb-3';

            const nameInput = document.createElement('input');
            nameInput.type = 'text';
            nameInput.value = name;
            nameInput.className = 'w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center dynamic-entry-name';
            nameInput.readOnly = true;
            nameInput.tabIndex = -1;

            const amountInput = document.createElement('input');
            amountInput.type = 'number';
            amountInput.value = amount;
            amountInput.className = 'w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center dynamic-entry-amount';
            amountInput.readOnly = true;
            amountInput.tabIndex = -1;

            entryDiv.appendChild(nameInput);
            entryDiv.appendChild(amountInput);
            container.appendChild(entryDiv);
        }

        // Calculation functions
        function calculateOilReadingDifference() {
            const oilFirstReading = getNumberValue('oilFirstReading');
            const oilSecondReading = getNumberValue('oilSecondReading');
            const oilPrice = getNumberValue('oil');

            const diff = oilFirstReading - oilSecondReading;
            
            setOutputValue('oilReadingDifference', diff);

            // Required Money (Oil)
            const oilRequiredMoney = diff * oilPrice;
            setOutputValue('oilRequiredMoney', oilRequiredMoney);
        }
        function calculateSpeedDifference() {
    const speedFirstReading1 = getNumberValue('speedFirstReading1');
    const speedSecondReading1 = getNumberValue('speedSecondReading1');
    const speedFirstReading2 = getNumberValue('speedFirstReading2');
    const speedSecondReading2 = getNumberValue('speedSecondReading2');
    const speedFirstReading3 = getNumberValue('speedFirstReading3');
    const speedSecondReading3 = getNumberValue('speedSecondReading3');

    const diff1 = speedSecondReading1 - speedFirstReading1;
    const diff2 = speedSecondReading2 - speedFirstReading2;
    const diff3 = speedSecondReading3 - speedFirstReading3;

    setOutputValue('SpeedDifference1', diff1);
    setOutputValue('SpeedDifference2', diff2);
    setOutputValue('SpeedDifference3', diff3);
}

        function calculatePetrolDifference() {
            const petrolFirstReading1 = getNumberValue('firstReading1');
            const petrolSecondReading1 = getNumberValue('secondReading1');
            const petrolFirstReading2 = getNumberValue('firstReading2');
            const petrolSecondReading2 = getNumberValue('secondReading2');
            const petrolFirstReading3 = getNumberValue('firstReading3');
            const petrolSecondReading3 = getNumberValue('secondReading3');
            const petrolFirstReading4 = getNumberValue('firstReading4');
            const petrolSecondReading4 = getNumberValue('secondReading4');
             const petrolFirstReading5 = getNumberValue('firstReading5');
            const petrolSecondReading5 = getNumberValue('secondReading5');
             const petrolFirstReading6 = getNumberValue('firstReading6');
            const petrolSecondReading6 = getNumberValue('secondReading6');


            const diff1 = petrolSecondReading1 - petrolFirstReading1;
            const diff2 = petrolSecondReading2 - petrolFirstReading2;
            const diff3 = petrolSecondReading3 - petrolFirstReading3;
            const diff4 = petrolSecondReading4 - petrolFirstReading4;
            const diff5 = petrolSecondReading5 - petrolFirstReading5;
            const diff6 = petrolSecondReading6 - petrolFirstReading6;

            setOutputValue('petrolDifference1', diff1);
            setOutputValue('petrolDifference2', diff2);
            setOutputValue('petrolDifference3', diff3);
            setOutputValue('petrolDifference4', diff4);
            setOutputValue('petrolDifference5', diff5);
            setOutputValue('petrolDifference6', diff6);
        }

        function calculateDieselDifference() {
            const dieselFirstReading1 = getNumberValue('dieselFirstReading1');
            const dieselSecondReading1 = getNumberValue('dieselSecondReading1');
            const dieselFirstReading2 = getNumberValue('dieselFirstReading2');
            const dieselSecondReading2 = getNumberValue('dieselSecondReading2');
            const dieselFirstReading3 = getNumberValue('dieselFirstReading3');
            const dieselSecondReading3 = getNumberValue('dieselSecondReading3');
            const dieselFirstReading4 = getNumberValue('dieselFirstReading4');
            const dieselSecondReading4 = getNumberValue('dieselSecondReading4');
            const dieselFirstReading5 = getNumberValue('dieselFirstReading5');
            const dieselSecondReading5 = getNumberValue('dieselSecondReading5');
            const dieselFirstReading6 = getNumberValue('dieselFirstReading6');
            const dieselSecondReading6 = getNumberValue('dieselSecondReading6');

            const diff1 = dieselSecondReading1 - dieselFirstReading1;
            const diff2 = dieselSecondReading2 - dieselFirstReading2;
            const diff3 = dieselSecondReading3 - dieselFirstReading3;
            const diff4 = dieselSecondReading4 - dieselFirstReading4;
            const diff5 = dieselSecondReading5 - dieselFirstReading5;
            const diff6 = dieselSecondReading6 - dieselFirstReading6;




            setOutputValue('dieselDifference1', diff1);
            setOutputValue('dieselDifference2', diff2);
            setOutputValue('dieselDifference3', diff3);
            setOutputValue('dieselDifference4', diff4);
            setOutputValue('dieselDifference5', diff5);
            setOutputValue('dieselDifference6', diff6);
        }

        function calculateCreditDebit() {
            let totalCredit = 0;
            document.querySelectorAll('#creditEntriesContainer .dynamic-entry-amount').forEach(input => {
                totalCredit += parseFloat(input.value) || 0;
            });
            setOutputValue('totalCreditAmount', totalCredit); // Display total credit

            let totalDebit = 0;
            document.querySelectorAll('#debitEntriesContainer .dynamic-entry-amount').forEach(input => {
                totalDebit += parseFloat(input.value) || 0;
            });
            setOutputValue('totalDebitAmount', totalDebit); // Display total debit
        }

        function calculateCombinedRequiredMoney() {
            const petrolPrice = getNumberValue('petrol');
            const speedPrice = getNumberValue('speed'); // Get speed price
        
            const petrolTotalDiff = getNumberValue('petrolDifference1') + getNumberValue('petrolDifference2') + 
                                    getNumberValue('petrolDifference3') + getNumberValue('petrolDifference4') + 
                                    getNumberValue('petrolDifference5') + getNumberValue('petrolDifference6');
        
            const speedTotalDiff = getNumberValue('SpeedDifference1') + getNumberValue('SpeedDifference2') + 
                                   getNumberValue('SpeedDifference3');
        
            const requiredMoneyPetrol = petrolTotalDiff * petrolPrice;
            const requiredMoneySpeed = speedTotalDiff * speedPrice; // Calculate speed money
        
            setOutputValue('requiredMoneyPetrol', requiredMoneyPetrol);
            setOutputValue('requiredMoneySpeed', requiredMoneySpeed); // Update the speed money display
        }
        function addExpenseEntry(name, amount) {
            const container = document.getElementById('expenseEntriesContainer');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'flex items-center gap-x-2 mb-3';
            entryDiv.innerHTML = `
                <input type="text" value="${name}" class="w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center" readonly tabindex="-1">
                <input type="number" value="${amount}" class="w-1/2 p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-800 text-center expense-amount" readonly tabindex="-1">
            `;
            container.appendChild(entryDiv);
            calculateTotalExpenses(); // Update total whenever an entry is added
        }

        function calculateTotalExpenses() {
            let totalExpenses = 0;
            document.querySelectorAll('.expense-amount').forEach(input => {
                totalExpenses += parseFloat(input.value) || 0;
            });
            setOutputValue('totalExpensesAmount', totalExpenses);
        }


        function calculateTestQuantitiesMoney() {
            const petrolTestQuantity = getNumberValue('petrolTestQuantity');
            const speedTestQuantity = getNumberValue('speedTestQuantity');
            const dieselTestQuantity = getNumberValue('dieselTestQuantity');
            const petrolPrice = getNumberValue('petrol');
            const speedPrice = getNumberValue('speed');
            const dieselPrice = getNumberValue('diesel');

            const petrolTestQuantityMoney = petrolTestQuantity * petrolPrice;
            const speedTestQuantityMoney = speedTestQuantity * speedPrice;
            const dieselTestQuantityMoney = dieselTestQuantity * dieselPrice;

            setOutputValue('petrolTestQuantityMoney', petrolTestQuantityMoney);
            setOutputValue('speedTestQuantityMoney', speedTestQuantityMoney);
            setOutputValue('dieselTestQuantityMoney', dieselTestQuantityMoney);
        }

        function calculateDieselRequiredMoney() {
            const dieselPrice = getNumberValue('diesel');
            const dieselDifference1 = getNumberValue('dieselDifference1');
            const dieselDifference2 = getNumberValue('dieselDifference2');
            const dieselDifference3 = getNumberValue('dieselDifference3');
            const dieselDifference4 = getNumberValue('dieselDifference4');
            const dieselDifference5 = getNumberValue('dieselDifference5');
            const dieselDifference6 = getNumberValue('dieselDifference6');

            const totalDieselDifference = dieselDifference1 + dieselDifference2 + dieselDifference3 + dieselDifference4 + dieselDifference5 + dieselDifference6;
            const requiredMoneyDiesel = totalDieselDifference * dieselPrice;
            setOutputValue('requiredMoneyDiesel', requiredMoneyDiesel);
        }

        function calculateDenominations() {
            const note500 = getNumberValue('note500');
            const note200 = getNumberValue('note200');
            const note100 = getNumberValue('note100');
            const note50 = getNumberValue('note50');
            const note20 = getNumberValue('note20');
            const note10 = getNumberValue('note10');
            const note5 = getNumberValue('note5');
            const coins = getNumberValue('coins');

            const totalDenomination = (note500 * 500) + (note200 * 200) +
                                (note100 * 100) + (note50 * 50) + (note20 * 20) +
                                (note10 * 10) + (note5 * 5) + coins;
            setOutputValue('totalDenomination', totalDenomination);
        }


        function calculateTotalPackedOil() {
            let totalPackedOil = 0;
            document.querySelectorAll('#packedOilEntriesContainer .packed-oil-amount').forEach(input => {
                totalPackedOil += parseFloat(input.value) || 0;
            });
            setOutputValue('totalPackedOilAmount', totalPackedOil); // Display total packed oil
            return totalPackedOil; // Return for use in final calculation
        }


        function calculateFinalResult() {
            const oilRequiredMoney = getNumberValue('oilRequiredMoney');
            const requiredMoneySpeed = getNumberValue('requiredMoneySpeed');
            const requiredMoneyPetrol = getNumberValue('requiredMoneyPetrol');
            const requiredMoneyDiesel = getNumberValue('requiredMoneyDiesel');

            // Get total from newly added textboxes
            const totalDebit = getNumberValue('totalDebitAmount');
            const totalCredit = getNumberValue('totalCreditAmount'); 
            const totalExpenses = getNumberValue('totalExpensesAmount');   
            const totalPackedOil = getNumberValue('totalPackedOilAmount'); // Use the displayed total

            const petrolTestQuantityMoney = getNumberValue('petrolTestQuantityMoney');
            const speedTestQuantityMoney = getNumberValue('speedTestQuantityMoney');
            const dieselTestQuantityMoney = getNumberValue('dieselTestQuantityMoney');

            console.log(oilRequiredMoney);
            console.log(requiredMoneySpeed);
            console.log(requiredMoneyPetrol);
            console.log(requiredMoneyDiesel);
            console.log(totalDebit);
            console.log(totalCredit);
            console.log(totalPackedOil);
            console.log(petrolTestQuantityMoney);
            console.log(speedTestQuantityMoney);
            console.log(dieselTestQuantityMoney);
            console.log(totalExpenses);

            const finalResult = (oilRequiredMoney + requiredMoneySpeed + requiredMoneyPetrol + requiredMoneyDiesel + totalDebit + totalPackedOil) - (petrolTestQuantityMoney + dieselTestQuantityMoney + speedTestQuantityMoney + totalCredit + totalExpenses);
            console.log(finalResult);
            setOutputValue('finalResult', finalResult);
        }

        function calculateExcessShot() {
            const finalResult = getNumberValue('finalResult');
            const totalDenominationAmount = getNumberValue('totalDenomination');
            const excessShot = totalDenominationAmount - finalResult;

            const headingElement = document.getElementById('excessShotHeading');
            const resultElement = document.getElementById('excessShotResult');

            if (excessShot > 0) {
                headingElement.textContent = 'Excess';
                resultElement.classList.remove('bg-red-100', 'text-red-800', 'bg-gray-100', 'text-gray-800');
                resultElement.classList.add('bg-green-100', 'text-green-800');
            } else if (excessShot < 0) {
                headingElement.textContent = 'Shot';
                resultElement.classList.remove('bg-green-100', 'text-green-800', 'bg-gray-100', 'text-gray-800');
                resultElement.classList.add('bg-red-100', 'text-red-800');
            } else {
                headingElement.textContent = 'Excess/Shot';
                resultElement.classList.remove('bg-green-100', 'text-green-800', 'bg-red-100', 'text-red-800');
                resultElement.classList.add('bg-gray-100', 'text-gray-800'); // Neutral color if 0
            }
            setOutputValue('excessShotResult', excessShot);
        }

        // Function to load data from server and populate fields
        async function loadDataAndCalculate() {
            const urlParams = new URLSearchParams(window.location.search);
            const entryId = urlParams.get('id'); // Get the _id from the URL

            let fetchedData = {}; // Store fetched data here

            if (entryId) {
                try {
                    const response = await fetch(`/api/reading/${entryId}`); // Fetch data from your API
                    if (response.ok) {
                        fetchedData = await response.json();
                        if (fetchedData) {
                            // Populate ID and Date fields
                            document.getElementById('displayId').value = fetchedData.selectedId || '';
                            document.getElementById('currentDate').value = fetchedData.currentDate || ''; // Assuming currentDate is saved in YYYY-MM-DD format

                            // Populate other fields using the fetched data
                            const inputIds = [
                                'petrol', 'diesel', 'oil', 'speed',
                                'totalAmount',
                                'oilFirstReading',
                                'oilSecondReading',
                                'speedFirstReading1', 'speedFirstReading2', 'speedFirstReading3',
                                'speedSecondReading1', 'speedSecondReading2', 'speedSecondReading3',
                                'firstReading1', 'firstReading2', 'firstReading3',
                                'firstReading4', 'firstReading5', 'firstReading6',
                                'secondReading1', 'secondReading2', 'secondReading3',
                                'secondReading4', 'secondReading5', 'secondReading6',
                                'dieselFirstReading1', 'dieselFirstReading2', 'dieselFirstReading3',
                                'dieselFirstReading4', 'dieselFirstReading5', 'dieselFirstReading6',
                                'dieselSecondReading1', 'dieselSecondReading2', 'dieselSecondReading3','dieselSecondReading4', 'dieselSecondReading5', 'dieselSecondReading6',
                                'petrolTestQuantity', 'dieselTestQuantity','speedTestQuantity',
                                'note500', 'note200', 'note100', 'note50', 'note20', 'note10', 'note5', 'coins','totalDenomination'
                            ];

                            inputIds.forEach(id => {
                                const element = document.getElementById(id);
                                if (element && fetchedData[id] !== undefined) {
                                    element.value = fetchedData[id];
                                }
                            });

                            // Populate dynamic packed oil entries
                            if (fetchedData.packedOilEntries && Array.isArray(fetchedData.packedOilEntries)) {
                                fetchedData.packedOilEntries.forEach(entry => {
                                    addPackedOilEntry(entry.name, entry.price || 0);
                                });
                            }
                            if (fetchedData.shift) {
                                const shiftBox = document.getElementById('shift');
                            if (shiftBox) shiftBox.value = fetchedData.shift;
                            }
                                    
                            // Populate dynamic credit entries
                            if (fetchedData.creditEntries && Array.isArray(fetchedData.creditEntries)) {
                                fetchedData.creditEntries.forEach(entry => {
                                    addDynamicEntry('credit', entry.name, entry.amount);
                                });
                            }

                            // Populate dynamic debit entries
                            if (fetchedData.debitEntries && Array.isArray(fetchedData.debitEntries)) {
                                fetchedData.debitEntries.forEach(entry => {
                                    addDynamicEntry('debit', entry.name, entry.amount);
                                });
                            }

                            if (fetchedData.expenseEntries && Array.isArray(fetchedData.expenseEntries)) {
                                fetchedData.expenseEntries.forEach(entry => {
                                    addExpenseEntry(entry.name, entry.amount);
                                });
                            }

                            // Set the href for the edit button
                            const editButton = document.getElementById('editButton');
                            if (editButton) {
                                editButton.href = `edit?id=${entryId}`;
                            }


                        } else {
                            alert('No data found for this ID.');
                            console.log('No data found for ID:', entryId);
                        }
                    } else {
                        alert('Failed to fetch data from the server.');
                        console.error('Server error:', response.statusText);
                    }
                } catch (error) {
                    console.error('Error fetching data:', error);
                    alert('An error occurred while fetching data.');
                }
            } else {
                // Handle cases where no ID is provided in the URL (e.g., direct access)
                alert('No entry ID provided in the URL.');
                console.log('No entry ID provided in the URL for view.html');
            }

            // Perform all calculations after loading data (or even if no data loaded, for initial state)
            calculateOilReadingDifference();
            calculatePetrolDifference();
            calculateSpeedDifference();
            calculateDieselDifference();
            calculateCreditDebit(); // Calculates total credit and debit
            calculateTotalExpenses();
            calculateTestQuantitiesMoney();
            calculateCombinedRequiredMoney();
            calculateDieselRequiredMoney();
            calculateTotalPackedOil(); // Calculates total packed oil
            calculateDenominations();
            calculateFinalResult(); // Now uses the new total fields
            calculateExcessShot();
        }

        // Initial calculations on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadDataAndCalculate();
        });
    </script>
</body>
</html>
